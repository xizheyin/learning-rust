<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Rust语言背景与发展 - New for Rust</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">New for Rust</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="第一章rust语言背景与发展"><a class="header" href="#第一章rust语言背景与发展">第一章：Rust语言背景与发展</a></h1>
<h2 id="11-计算机语言发展简史"><a class="header" href="#11-计算机语言发展简史">1.1 计算机语言发展简史</a></h2>
<p>在正式学习Rust之前，我们先来回顾一下计算机编程语言的发展历程。C语言自1972年诞生以来，凭借其高效、灵活和接近底层的特性，成为了系统级开发的事实标准。此后，C++、Java、Python、Go等语言相继出现，各自针对不同的应用场景和开发需求进行了优化。</p>
<p>然而，随着软件系统的复杂度不断提升，传统语言在安全性、并发性和可维护性方面逐渐暴露出一些问题。例如，C/C++容易出现内存泄漏、野指针、数据竞争等难以排查的bug。为了解决这些问题，Rust应运而生。</p>
<h2 id="12-rust的诞生背景与设计目标"><a class="header" href="#12-rust的诞生背景与设计目标">1.2 Rust的诞生背景与设计目标</a></h2>
<p>Rust最初由Mozilla工程师Graydon Hoare于2010年发起，目标是打造一种既能像C/C++一样高效，又能最大程度保证安全性的系统级编程语言。Rust的核心设计理念包括：</p>
<ul>
<li>
<p><strong>内存安全</strong>：指的是程序不会出现"野指针"、"悬垂引用"或"内存泄漏"等问题。可以理解为你租了一间房子，钥匙只在你手里，搬走时房东会自动收回钥匙，别人无法再进来捣乱。Rust通过所有权（Ownership）和借用（Borrowing）机制，保证每一块内存都有明确的"主人"，用完就自动归还，防止"房子没人管"或"钥匙乱传"导致的混乱。</p>
<ul>
<li>许多传统语言（如C、C++）没有内存安全机制，开发者需要手动管理内存，容易出现野指针、内存泄漏等问题。Java、Python等虽然有垃圾回收（GC），但仍可能因引用遗留等原因出现内存泄漏。</li>
</ul>
</li>
<li>
<p><strong>并发安全</strong>：并发是指多个任务（比如多个线程）同时运行。并发安全意味着不会因为多个线程同时操作同一份数据而出错。就像几个人同时往同一个快递箱里放东西，如果没有规则，可能会把东西弄丢或打架。Rust在编译阶段就会检查你的代码，确保不会出现"数据竞争"，即不会有两个线程同时修改同一份数据，避免了多线程下常见的隐蔽bug。</p>
<ul>
<li>C、C++等语言的并发安全主要靠开发者自觉和手动加锁，编译器无法帮你发现数据竞争。Java、Python等虽然有线程机制，但也无法在编译期彻底防止并发bug。</li>
</ul>
</li>
<li>
<p><strong>高性能</strong>：Rust追求和C/C++一样的运行效率。所谓"零成本抽象"，就是你用高级语法写的代码，编译后和手写底层代码一样快，没有额外的性能损耗。比如你用for循环、迭代器等高级写法，编译器会自动优化成最快的机器码，既易写易读，又不牺牲速度。</p>
<ul>
<li>一些高级语言（如Python、JavaScript）虽然易用，但由于解释执行或虚拟机机制，运行效率远低于C、C++和Rust。C++虽然高效，但有些高级特性（如虚函数、多态）会带来一定的性能开销。</li>
</ul>
</li>
<li>
<p><strong>现代化工具链</strong>：Rust自带一整套开发工具，比如包管理（cargo）、自动化测试、文档生成、代码格式化等。就像买了一台新电脑，系统和常用软件都帮你装好了，不用再到处找驱动、装插件。这样可以大大提升开发效率，团队协作也更方便。</p>
<ul>
<li>许多老牌语言（如C、C++）缺乏统一的官方工具链，包管理、构建、测试等需要依赖第三方工具，配置繁琐。Python、Java等虽然有包管理工具，但集成度和一致性不如Rust的cargo。</li>
</ul>
</li>
</ul>
<h2 id="13-rust与cc的对比"><a class="header" href="#13-rust与cc的对比">1.3 Rust与C/C++的对比</a></h2>
<div class="table-wrapper"><table><thead><tr><th>特性</th><th>C/C++</th><th>Rust</th></tr></thead><tbody>
<tr><td>内存管理</td><td>手动/RAII</td><td>所有权+借用+生命周期</td></tr>
<tr><td>并发安全</td><td>需开发者自行保证</td><td>编译器静态检查，防止数据竞争</td></tr>
<tr><td>错误处理</td><td>返回码/异常</td><td>Result/Option类型</td></tr>
<tr><td>包管理</td><td>无统一标准</td><td>cargo一站式解决</td></tr>
<tr><td>生态</td><td>成熟，历史悠久</td><td>新兴，发展迅速</td></tr>
</tbody></table>
</div>
<p>Rust并不是要取代C/C++，而是为系统级开发提供一种更安全、更现代的选择。</p>
<h2 id="14-rust的实际应用与生态"><a class="header" href="#14-rust的实际应用与生态">1.4 Rust的实际应用与生态</a></h2>
<p>Rust不仅在技术圈内备受推崇，近年来更是上升到国家战略层面。2024年，美国拜登政府发布政策，<strong>明确推动在关键基础设施和政府软件项目中采用Rust语言，理由是Rust能有效防止内存安全漏洞，提升国家网络安全水平</strong>。这一政策被多家主流媒体和安全专家解读为"软件安全领域的里程碑"。</p>
<p>Rust的影响力远不止于此：</p>
<ul>
<li><strong>工业界广泛应用</strong>：微软、亚马逊、谷歌、Meta（Facebook）、Cloudflare等科技巨头都在核心产品中引入Rust。例如，微软在Windows底层组件中逐步用Rust替换C/C++，以减少安全漏洞；亚马逊的云服务（AWS）也有大量Rust代码。</li>
<li><strong>开源社区活跃</strong>：Rust连续多年被Stack Overflow评为"最受欢迎的编程语言"，社区贡献者众多，生态繁荣。参考：<a href="https://survey.stackoverflow.co/2024/technology#admired-and-desired-language-desire-admire">https://survey.stackoverflow.co/2024/technology#admired-and-desired-language-desire-admire</a></li>
<li><strong>安全与高性能并重</strong>：Rust被广泛用于浏览器引擎（如Firefox的Servo）、区块链、嵌入式、物联网、Web后端等领域，尤其适合对安全性和性能要求极高的场景。</li>
<li><strong>政策推动与标准化</strong>：除了美国，欧盟、日本等也在推动关键基础设施采用更安全的系统级语言，Rust成为首选之一。</li>
<li><strong>中国科技巨头积极采用</strong>：阿里巴巴、字节跳动、腾讯、华为等国内大型互联网公司也在核心系统、云计算、数据库、区块链等领域积极引入Rust。例如，阿里巴巴在云原生基础设施和高性能服务中使用Rust提升安全性和并发性能；字节跳动在推荐系统、分布式存储等场景采用Rust重构关键模块；腾讯和华为也在操作系统、物联网等项目中推动Rust的落地。越来越多的中国初创公司和开源社区也在拥抱Rust，推动其在国内生态的繁荣发展。</li>
</ul>
<p>这些趋势表明，Rust不仅是技术创新的代表，更是全球软件安全和基础设施现代化的重要推动力。学习Rust，不仅能提升个人技术竞争力，也有助于把握未来行业发展的脉搏。</p>
<h2 id="15-安装rust开发环境"><a class="header" href="#15-安装rust开发环境">1.5 安装Rust开发环境</a></h2>
<p>下面我们来动手安装Rust开发环境，并编写第一个Rust程序。</p>
<h3 id="151-安装rust"><a class="header" href="#151-安装rust">1.5.1 安装Rust</a></h3>
<p>在Linux/macOS终端或Windows的WSL中，执行以下命令：</p>
<pre><code class="language-bash">curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
</code></pre>
<p>根据提示完成安装后，重启终端，输入：</p>
<pre><code class="language-bash">rustc --version
cargo --version
</code></pre>
<p>如果能看到版本号，说明安装成功。</p>
<h3 id="152-配置vscode插件"><a class="header" href="#152-配置vscode插件">1.5.2 配置VSCode插件</a></h3>
<p>推荐安装"rust-analyzer"插件，获得更好的代码补全和语法提示体验。</p>
<h3 id="153-创建第一个rust项目"><a class="header" href="#153-创建第一个rust项目">1.5.3 创建第一个Rust项目</a></h3>
<p>使用cargo新建项目：</p>
<pre><code class="language-bash">cargo new hello_rust
cd hello_rust
cargo run
</code></pre>
<p>你会看到输出：</p>
<pre><code>Hello, world!
</code></pre>
<h4 id="代码示例"><a class="header" href="#代码示例">代码示例</a></h4>
<p><code>src/main.rs</code> 文件内容如下：</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    println!("Hello, world!");
}</code></pre></pre>
<p>是不是很熟悉？和C语言的<code>printf</code>类似，但Rust的<code>println!</code>是一个宏，后续我们会详细讲解。</p>
<h2 id="16-小结与思考题"><a class="header" href="#16-小结与思考题">1.6 小结与思考题</a></h2>
<p>本章我们回顾了编程语言的发展，了解了Rust的诞生背景、设计目标和核心优势，并完成了开发环境的安装和第一个程序的编写。Rust以其独特的安全性和高性能，正在成为越来越多企业的首选。</p>
<h3 id="思考题"><a class="header" href="#思考题">思考题</a></h3>
<ol>
<li>你认为C语言在现代开发中最大的优势和劣势分别是什么？</li>
<li>Rust的所有权机制能解决哪些C语言常见的bug？</li>
<li>试着用C语言写一个"Hello, world!"程序，并与Rust的版本进行对比，有哪些异同？</li>
</ol>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->

                            <a rel="next prefetch" href="chapter_2.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

                    <a rel="next prefetch" href="chapter_2.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
